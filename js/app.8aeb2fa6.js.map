{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/BRSUI.vue?12c4","webpack:///./src/components/BRSViewer.vue?84cc","webpack:///./src/App.vue?77bc","webpack:///./src/components/BRSUI.vue?2ba7","webpack:///./src/utils.js","webpack:///./src/BRSWorldAPI.js","webpack:///./src/components/BRSViewer.vue?b78a","webpack:///./src/InstancedStandardMaterial.js","webpack:///./src/BRSMesh.js","webpack:///./src/BRSViewerScene.js","webpack:///src/components/BRSViewer.vue","webpack:///./src/components/BRSViewer.vue?1f05","webpack:///./src/components/BRSViewer.vue","webpack:///src/components/BRSUI.vue","webpack:///./src/components/BRSUI.vue?5233","webpack:///./src/components/BRSUI.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?165b","webpack:///./src/assets/brsworld.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","brsBuff","nativeOn","$event","interacting","class","keepSidebarOpen","on","stopInteracting","_m","_v","uploadFinished","domProps","_s","error","_e","$refs","fileUpload","click","fileToUpload","brs","author","map","fileUploadIsValid","uploadFile","ref","staticStyle","onFileChange","_l","brsInfo","brsUrl","selected","onEntryClick","noObserve","obj","excludeKeys","keys","filter","includes","forEach","configurable","BRSWorldAPI","_baseUrl","fetch","method","json","dataJSON","url","body","headers","id","JSON","stringify","isControlling","InstancedStandardMaterial","shader","renderer","vertexShader","fragmentShader","THREE","BRSMesh","brsjsData","_buildResources","geo","mat","arrayBuffer","console","log","BRS","read","baseGeo","attributes","uv","array","brickWidth","instancePositions","instanceQuaternions","instanceScales","instanceColors","bricks","br","idx","visibility","pos","position","axes","rots","Math","PI","quat","setFromAxisAngle","direction","rotation","scale","size","color","Array","isArray","colors","x","y","z","w","instancedGeometry","index","addAttribute","Float32Array","instancedMaterial","vertexColors","flatShading","undefined","load","tex","wrapS","wrapT","BRSViewerScene","ambLight","add","dirLight","set","target","castShadow","shadow","camera","left","top","right","bottom","near","far","bias","mapSize","width","height","light","groundMat","groundPlaneSize","groundPlane","geometry","getAttribute","needsUpdate","quaternion","frustumCulled","fog","props","ArrayBuffer","scene","cam","buildBounds","rafID","controls","isLocked","keyMap","forward","backward","up","down","sprint","velocity","_lastTime","Date","now","computed","canControl","mounted","canvas","antialias","logarithmicDepthBuffer","setClearColor","event","e","preventDefault","domElement","addEventListener","resize","watch","methods","setAttribute","setSize","rect","aspect","updateProjectionMatrix","render","requestAnimationFrame","copy","center","lookAt","clone","disableControls","unlock","enableControls","lock","component","components","BRSViewer","api","brsInfoList","brsInfoWState","hasBRSToView","resetUpload","changeBRSData","message","setTimeout","BRSUI","Vue","config","productionTip","errorHandler","h","App","$mount"],"mappings":"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","file":"js/app.8aeb2fa6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSUI.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSUI.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSViewer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSViewer.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('BRSUI')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brs-container\"},[_c('BRSViewer',{attrs:{\"brsBuff\":_vm.brsBuff},nativeOn:{\"click\":function($event){_vm.interacting = false}}}),_c('div',{staticClass:\"brs-main\",class:{'keep-open': _vm.keepSidebarOpen},on:{\"mouseenter\":function($event){_vm.interacting = true},\"mouseleave\":_vm.stopInteracting}},[_c('div',{staticClass:\"brs-header\"},[_c('div',{staticClass:\"brs-header-content\"},[_vm._m(0),_c('p',[_vm._v(\"Share your Brickadia builds\")]),_c('div',{staticClass:\"brs-upload\",class:{ 'upload-finished': _vm.uploadFinished }},[(_vm.error)?_c('p',{staticClass:\"error\",domProps:{\"textContent\":_vm._s(_vm.error)}}):_vm._e(),_c('button',{on:{\"click\":function($event){return _vm.$refs.fileUpload.click()}}},[_vm._v(\"Open .brs\")]),(_vm.fileToUpload)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.fileToUpload.name))]),(_vm.brs)?_c('p',[_vm._v(_vm._s(_vm.brs.author.name)+\" - \"+_vm._s(_vm.brs.map))]):_vm._e(),_c('button',{attrs:{\"disabled\":!_vm.fileUploadIsValid},on:{\"click\":_vm.uploadFile}},[_vm._v(\"Upload\")])]):_vm._e(),_c('input',{ref:\"fileUpload\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onFileChange($event)}}})])]),_c('svg',{staticClass:\"brs-header-bg\",attrs:{\"width\":\"300\",\"height\":\"300\"}},[_c('g',{staticClass:\"cloud\",attrs:{\"id\":\"cloud1\"}},[_c('path',{attrs:{\"d\":\"M-300,0C-300,0,300,0,300,0C500,33.33333333333333,500,66.66666666666666,300,100C200,161.6064433771357,100,161.6064433771357,0,100C-100,161.6064433771357,-200,161.6064433771357,-300,100C-500,66.66666666666666,-500,33.33333333333333,-300,0\"}})]),_c('g',{staticClass:\"cloud\",attrs:{\"id\":\"cloud2\"}},[_c('path',{attrs:{\"d\":\"M-300,0C-300,0,300,0,300,0C500,33.33333333333333,500,66.66666666666666,300,100C200,161.6064433771357,100,161.6064433771357,0,100C-100,161.6064433771357,-200,161.6064433771357,-300,100C-500,66.66666666666666,-500,33.33333333333333,-300,0\"}})]),_c('g',{staticClass:\"cloud\",attrs:{\"id\":\"cloud3\"}},[_c('path',{attrs:{\"d\":\"M-300,0C-300,0,300,0,300,0C500,33.33333333333333,500,66.66666666666666,300,100C200,161.6064433771357,100,161.6064433771357,0,100C-100,161.6064433771357,-200,161.6064433771357,-300,100C-500,66.66666666666666,-500,33.33333333333333,-300,0\"}})])])]),_c('div',{staticClass:\"brs-list-container\"},[_vm._m(1),_c('div',{staticClass:\"brs-list\"},_vm._l((_vm.brsInfoWState),function(brsInfo){return _c('div',{key:brsInfo.brsUrl,staticClass:\"brs-list-item\",class:{selected: brsInfo.selected},on:{\"click\":function($event){return _vm.onEntryClick($event, brsInfo)}}},[_c('h3',[_vm._v(_vm._s(brsInfo.name))]),_c('p',[_vm._v(_vm._s(brsInfo.author))]),(false)?_c('p',[_vm._v(_vm._s(brsInfo.description))]):_vm._e()])}),0)]),_vm._m(2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brs-header-title\"},[_c('img',{staticClass:\"logo\",attrs:{\"alt\":\"brs.world logo\",\"src\":require(\"../assets/brsworld.svg\")}}),_c('h1',[_vm._v(\"BRS.world\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_c('u',[_vm._v(\"Featured Builds\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brs-footer\"},[_c('p',[_vm._v(\"Made by \"),_c('a',{attrs:{\"href\":\"http://twitter.com/cobertos\",\"target\":\"_blank\"}},[_vm._v(\"@Cobertos\")])]),_c('p',[_c('a',{attrs:{\"href\":\"https://github.com/Cobertos/brs.world\",\"target\":\"_blank\"}},[_vm._v(\"Hosted on GitHub\")])])])}]\n\nexport { render, staticRenderFns }","export function noObserve (obj, excludeKeys=[]) {\n  /*function noObserverObject(obj) {\n    Object.keys(obj)\n    .forEach((key) => {\n        Object.defineProperty(obj, key, { configurable: false });\n    });\n  }*/\n\n  //Mark all the properties as non-configurable and Vue won't iterate over them\n  //and make them all observable\n  //excludeKeys to continue to observe specific keys\n  //TODO: In the future, it might be nice to make this configurable\n  //with deeper .'d keys as well as observing everything off a specific key with .* syntax\n  Object.keys(obj)\n    .filter((key)=>!excludeKeys.includes(key))\n    .forEach((key) => {\n        Object.defineProperty(obj, key, { configurable: false });\n    });\n  return obj;\n}\n","export class BRSWorldAPI {\n  constructor () {\n    this._baseUrl = 'https://vn9e1kgqpb.execute-api.us-east-2.amazonaws.com/dev';\n  }\n\n  /**This uploads a brs buffer to the backend\n   * @param {Buffer} brsBuff The brs save file\n   */\n  async uploadBuild (brsBuff) {\n    //Get the URL to upload to\n    const data = await fetch(`${this._baseUrl}/build`, {\n      method: 'PUT'\n    });\n    const dataJSON = await data.json();\n    //Upload the file to the URL given\n    await fetch(dataJSON.url, {\n      method: 'PUT',\n      body: brsBuff,\n      headers: {\n        'Content-Type': 'application/octet-stream',\n        'x-amz-acl': 'public-read'\n      }\n    });\n  }\n\n  /**Gets an array of a few random builds\n   * @return {object} Object with .items for the new builds,\n   * and TODO: .lastKey for the last evaluation\n   */\n  async getFeaturedBuilds () {\n    const data = await fetch(`${this._baseUrl}/build`);\n    return data.json();\n  }\n\n  /**Returns a stored build by id\n   * @param {string} id The id of the build to get\n   * @returns {object} The build object\n   */\n  async getBuildById (id) {\n    const data = await fetch(`${this._baseUrl}/build`, {\n      method: 'POST',\n      body: JSON.stringify({ id }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    return data.json();\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('canvas',{ref:\"renderer\"},[_vm._v(\"No WebGL Boi\")]),(_vm.canControl)?_c('div',{staticClass:\"renderer-overlay\"},[_c('transition',{attrs:{\"name\":\"hide\"}},[(!_vm.isControlling)?_c('p',{key:\"1\"},[_vm._v(\"Take control of the camera by clicking\")]):_c('p',{key:\"2\"},[_vm._v(\"Press \"),_c('kbd',[_vm._v(\"Esc\")]),_vm._v(\" to exit camera. \"),_c('kbd',[_vm._v(\"W\")]),_c('kbd',[_vm._v(\"A\")]),_c('kbd',[_vm._v(\"S\")]),_c('kbd',[_vm._v(\"D\")]),_c('kbd',[_vm._v(\"Space\")]),_c('kbd',[_vm._v(\"Shift\")]),_vm._v(\" to move. Mouse to look.\")])])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as THREE from 'three';\n\n//You will have to make sure that you're using flatShading: true in the material\n//otherwise no lighting will show up. Normals just don't work right without\n//using the calculus version of the normals\n//BRSerker does a similar sort of thing, except manually\nexport class InstancedStandardMaterial extends THREE.MeshStandardMaterial {\n  onBeforeCompile (shader, renderer) {\n    //Copy pasta of\n    //https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderLib/meshstandard_vert.glsl.js\n    //with some added stuff to take in an instancePosition, instanceQuaternion, etc...\n    shader.vertexShader = `\n#define STANDARD\n#define USE_UV\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n  varying vec3 vNormal;\n  #ifdef USE_TANGENT\n    varying vec3 vTangent;\n    varying vec3 vBitangent;\n  #endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n// === INSTANCED ===\nvec3 applyTRS( vec3 position, vec3 translation, vec4 quaternion, vec3 scale ) {\n  position *= scale;\n  position += 2.0 * cross( quaternion.xyz, cross( quaternion.xyz, position ) + quaternion.w * position );\n  return position + translation;\n}\nattribute vec3 instancePosition;\nattribute vec4 instanceQuaternion;\nattribute vec3 instanceScale;\nattribute vec3 instanceColor;\n\nvoid main() {\n  #include <uv_vertex>\n  vUv *= vec2(10.0, 10.0);\n  #include <uv2_vertex>\n  #include <color_vertex>\n  // === INSTANCED (color) ===\n  #ifdef USE_COLOR\n    vColor.xyz = instanceColor.xyz;\n  #endif\n  #include <beginnormal_vertex>\n  #include <morphnormal_vertex>\n  #include <skinbase_vertex>\n  #include <skinnormal_vertex>\n  #include <defaultnormal_vertex>\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n  vNormal = normalize( transformedNormal );\n  #ifdef USE_TANGENT\n    vTangent = normalize( transformedTangent );\n    vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n  #endif\n#endif\n  #include <begin_vertex>\n  // === INSTANCED (position) ===\n  transformed = applyTRS( transformed, instancePosition, instanceQuaternion, instanceScale );\n\n  #include <morphtarget_vertex>\n  #include <skinning_vertex>\n  #include <displacementmap_vertex>\n  #include <project_vertex>\n  #include <logdepthbuf_vertex>\n  #include <clipping_planes_vertex>\n  vViewPosition = - mvPosition.xyz;\n  #include <worldpos_vertex>\n  #include <shadowmap_vertex>\n  #include <fog_vertex>\n  //vColor = instanceColor;//color;\n}\n        `;\n    shader.fragmentShader = `\n#define STANDARD\n#ifdef PHYSICAL\n  #define REFLECTIVITY\n  #define CLEARCOAT\n  #define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n  uniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n  uniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n  uniform float clearcoat;\n  uniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n  uniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n  varying vec3 vNormal;\n  #ifdef USE_TANGENT\n    varying vec3 vTangent;\n    varying vec3 vBitangent;\n  #endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n// === MINE ===\n//varying vec3 vColor;\n\nvoid main() {\n  #include <clipping_planes_fragment>\n  vec4 diffuseColor = vec4( diffuse, opacity );\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n  #include <map_fragment>\n  #include <color_fragment>\n  //diffuseColor.rgb = vColor;\n  #include <alphamap_fragment>\n  #include <alphatest_fragment>\n  #include <roughnessmap_fragment>\n  #include <metalnessmap_fragment>\n  #include <normal_fragment_begin>\n\n  #include <normal_fragment_maps>\n  #include <clearcoat_normal_fragment_begin>\n  #include <clearcoat_normal_fragment_maps>\n  #include <emissivemap_fragment>\n  // accumulation\n  #include <lights_physical_fragment>\n  #include <lights_fragment_begin>\n  #include <lights_fragment_maps>\n  #include <lights_fragment_end>\n  // modulation\n  #include <aomap_fragment>\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n  // this is a stub for the transparency model\n  #ifdef TRANSPARENCY\n    diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n  #endif\n  gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n  #include <premultiplied_alpha_fragment>\n  #include <dithering_fragment>\n}\n        `;\n  }\n}\n","import 'brs-js'; //On window.BRS (TODO: Fix this)\nimport * as THREE from 'three';\nimport { InstancedStandardMaterial } from './InstancedStandardMaterial';\n\nexport class BRSMesh extends THREE.Mesh {\n  /**Returns the THREE.js units of one stud on a 1x1x1 brick so we can work with everything\n   * just as it exists in the BRS file and hopefully for how Brickadia sees it should we want\n   * to do more advanced measurements.\n   * NOTE: that when loaded from a BRS, a 1x1x1 will have a 5x5x6 .size property and a 1x1x1F will\n   * have a 5x5x2 .size property but when aligning with .position, everything is off. It seems Brickadia\n   * applies the 5x5x6 size to a 2x2x2 sized mesh (because it's 1 unit from center) so we need to multiply\n   * this by 2 when using BoxBufferGeometry as that is a 1x1x1 size mesh (0.5 unit from center).\n   * @returns {Number} The width of one brick\n   */\n  static brickWidth () {\n    return 5 * 2;\n  }\n\n  constructor (brsjsData) {\n    let [geo, mat] = BRSMesh._buildResources(brsjsData);\n    super(geo, mat);\n    //TODO: We should release the reference to this as some point\n    //so that we don't have large chunks of memory we don't need\n    //for large builds\n    this.brs = brsjsData;\n  }\n\n  static fromBuffer (arrayBuffer) {\n    console.log('Start parse...');\n    let brsjsData = BRS.read(arrayBuffer);\n    return new BRSMesh(brsjsData);\n  }\n\n  static _buildResources (brs) {\n    //Mesh workflow (NOT PERFORMANT FOR LARGE BUILDS!)\n    /*\n    brs.colors = brs.colors.map((arr)=>{\n      return new THREE.Color(arr[0] / 255, arr[1] / 255, arr[2] / 255);\n    });\n    brs.materials = brs.colors.map((color)=>new THREE.MeshBasicMaterial({ color }));\n    brs.bricks = brs.bricks.map((br,idx)=>{\n      let geo = new THREE.BoxBufferGeometry(1,1,1);\n      let mat = brs.materials[br.color];\n      let mesh = new THREE.Mesh(geo, mat);\n      mesh.position.set(br.position[0], br.position[2], br.position[1]);\n      mesh.scale.set(100,100,100);\n      return mesh;\n    });*/\n\n    //Instanced Mesh Workflow\n    let baseGeo = new THREE.BoxBufferGeometry(1, 1, 1);\n    baseGeo.attributes.uv.array = baseGeo.attributes.uv.array.map((i) => i / BRSMesh.brickWidth());\n    //let color = new THREE.Color(1, 1, 1);\n    //let buffGeo = new THREE.BufferGeometry();\n    let instancePositions = [];\n    let instanceQuaternions = [];\n    let instanceScales = [];\n    let instanceColors = [];\n    console.log('Starting load...');\n    brs.bricks.forEach((br, idx) => {\n      if (idx % 1000 === 0) {\n        console.log(`Brick ${idx}`);\n      }\n      if (!br.visibility) {\n        //TODO: Put this in a list of meshs to render as wireframes\n        return; //Don't render invisibles\n      }\n\n      let pos = new THREE.Vector3(br.position[0], br.position[2], br.position[1]);\n      const axes = [\n        new THREE.Vector3(1, 0, 0), //Brickadia +X => THREE.js +X\n        new THREE.Vector3(-1, 0, 0), //Brickadia -X => THREE.js -X\n        new THREE.Vector3(0, 0, 1), //Brickadia +Y => THREE.js +Z\n        new THREE.Vector3(0, 0, -1), //Brickadia -Y => THREE.js -Z\n        new THREE.Vector3(0, 1, 0), //Brickadia +Z => THREE.js +Y\n        new THREE.Vector3(0, -1, 0) //Brickadia -Z => THREE.js -Y\n      ];\n      const rots = [\n        0,\n        Math.PI / 2,\n        Math.PI,\n        3 * Math.PI / 2\n      ];\n      let quat = new THREE.Quaternion().setFromAxisAngle(axes[br.direction], rots[br.rotation]);\n\n      //A 1x1F is 5,5,2 size, seemingly meaning it's 10x10x4 units wide when playing around in game\n      //A 1x1 is 5,5,6, seemingly 10x10x12\n      //Because our cube is 1x1x1, we need to multiple size to get the correct scale\n      let scale = new THREE.Vector3(br.size[0] * 2, br.size[2] * 2, br.size[1] * 2);\n      let color = Array.isArray(br.color) ? new THREE.Color(br.color[0] / 255, br.color[1] / 255, br.color[2] / 255)\n        : brs.colors[br.color];\n\n      instancePositions.push(pos.x, pos.y, pos.z);\n      instanceQuaternions.push(quat.x, quat.y, quat.z, quat.w);\n      instanceScales.push(scale.x, scale.y, scale.z);\n      instanceColors.push(color[0] / 255, color[1] / 255, color[2] / 255);\n    });\n\n    let instancedGeometry = new THREE.InstancedBufferGeometry();\n    instancedGeometry.index = baseGeo.index;\n    instancedGeometry.attributes.position = baseGeo.attributes.position;\n    //instancedGeometry.attributes.color = baseGeo.attributes.color;\n    instancedGeometry.addAttribute('instancePosition', new THREE.InstancedBufferAttribute(new Float32Array(instancePositions), 3));\n    instancedGeometry.addAttribute('instanceQuaternion', new THREE.InstancedBufferAttribute(new Float32Array(instanceQuaternions), 4));\n    instancedGeometry.addAttribute('instanceScale', new THREE.InstancedBufferAttribute(new Float32Array(instanceScales), 3));\n    instancedGeometry.addAttribute('instanceColor', new THREE.InstancedBufferAttribute(new Float32Array(instanceColors), 3));\n\n    let instancedMaterial = new InstancedStandardMaterial({\n      vertexColors: THREE.VertexColors,\n      flatShading: true,\n      map: undefined\n    });\n    new THREE.TextureLoader().load('brickTOP.png', (tex) => {\n      tex.wrapS = THREE.RepeatWrapping;\n      tex.wrapT = THREE.RepeatWrapping;\n      //tex.anisotopy = 8;\n      //instancedMaterial.map = tex;\n      //instancedMaterial.needsUpdate = true;\n    });\n\n    // instantiate a loader\n\n    return [instancedGeometry, instancedMaterial];\n  }\n}\n","import * as THREE from 'three';\nimport { BRSMesh } from './BRSMesh.js';\n\n/**Scene that holds the BRSMesh and all other default lighting\n * and objects\n */\nexport class BRSViewerScene extends THREE.Scene {\n  constructor () {\n    super();\n    //Load the assets\n    //let envMapPath = 'https://cdn.rawgit.com/mrdoob/three.js/dev/examples/textures/cube/SwedishRoyalCastle/';\n    //let envUrls = [\"px\", \"nx\", \"py\", \"ny\", \"pz\", \"nz\"].map((str)=>`${envMapPath}${str}.jpg`)\n    //let env = await promisify(new THREE.CubeTextureLoader().load(urls));\n    //env.format = THREE.RGBFormat;\n\n    //Lighting\n    // ambient light\n    let ambLight = new THREE.AmbientLight(0xBBBBBB);\n    this.add(ambLight);\n    // directional light\n    let dirLight = new THREE.DirectionalLight(0xFFFFFF);\n    dirLight.position.set(20, 30, -5);\n    dirLight.target.position.set(0, 0, 0);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.left = -30;\n    dirLight.shadow.camera.top = -30;\n    dirLight.shadow.camera.right = 30;\n    dirLight.shadow.camera.bottom = 30;\n    dirLight.shadow.camera.near = 20;\n    dirLight.shadow.camera.far = 200;\n    dirLight.shadow.bias = -0.001;\n    dirLight.shadow.mapSize.width = dirLight.shadow.mapSize.height = 2048;\n    this.add(dirLight);\n    //Point light\n    let light = new THREE.PointLight(0xffffdd, 2, 2);\n    light.position.set(0, 3, -2);\n    this.add(light);\n\n    //Ground plane\n    new THREE.TextureLoader().load('brickgreen.png', (tex) => {\n      tex.wrapS = THREE.RepeatWrapping;\n      tex.wrapT = THREE.RepeatWrapping;\n      //tex.anisotopy = 8;\n      groundMat.map = tex;\n    });\n    const groundMat = new THREE.MeshStandardMaterial({\n      color: 0x00aa00,\n      map: undefined\n    });\n    const groundPlaneSize = 100000;\n    let groundPlane = new THREE.Mesh(\n      new THREE.PlaneBufferGeometry(groundPlaneSize, groundPlaneSize),\n      groundMat\n    );\n    let uv = groundPlane.geometry.getAttribute('uv');\n    console.log(uv);\n    uv.array = uv.array.map((i) => i * groundPlaneSize / BRSMesh.brickWidth());\n    uv.needsUpdate = true;\n    groundPlane.quaternion.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2);\n    groundPlane.frustumCulled = false;\n    this.add(groundPlane);\n\n    this.fog = new THREE.FogExp2(0x9999FF, 0.000025);\n  }\n}\n","<template>\n  <div>\n    <canvas ref=\"renderer\">No WebGL Boi</canvas>\n    <div class=\"renderer-overlay\"\n      v-if=\"canControl\">\n      <transition name=\"hide\">\n        <p key=\"1\" v-if=\"!isControlling\">Take control of the camera by clicking</p>\n        <p key=\"2\" v-else>Press <kbd>Esc</kbd> to exit camera. <kbd>W</kbd> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> <kbd>Space</kbd> <kbd>Shift</kbd> to move. Mouse to look.</p>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as THREE from 'three';\nimport { PointerLockControls } from 'three/examples/jsm/controls/PointerLockControls.js';\nimport { BRSMesh } from '../BRSMesh.js';\nimport { BRSViewerScene } from '../BRSViewerScene.js';\nimport { noObserve } from '../utils.js';\n\nexport default {\n  name: 'BRSViewer',\n  props: {\n    brsBuff: ArrayBuffer\n  },\n  data () {\n    return {\n      renderer: undefined,\n      scene: noObserve(new BRSViewerScene()),\n      cam: noObserve(new THREE.PerspectiveCamera(75, 1, 1, 80000)),\n      buildBounds: undefined,\n      rafID: undefined,\n      controls: {\n        isLocked: false\n      },\n      keyMap: {\n        forward: false,\n        backward: false,\n        right: false,\n        left: false,\n        up: false,\n        down: false,\n        sprint: false\n      },\n      velocity: noObserve(new THREE.Vector3(0,0,0)),\n      _lastTime: Date.now()\n    };\n  },\n  computed:{\n    isControlling(){\n      return this.controls.isLocked;\n    },\n    canControl(){\n      return !!this.brsBuff; //Needs to have a level loaded\n    }\n  },\n  mounted () {\n    //Setup the renderer\n    this.renderer = noObserve(new THREE.WebGLRenderer({\n      canvas: this.$refs.renderer,\n      antialias: true,\n      logarithmicDepthBuffer: true\n    }));\n    this.renderer.setClearColor(new THREE.Color(0x9999FF));\n\n    //Setup the camera\n    this.cam.position.set(0, 10, 0);\n\n    //Controls\n    this.controls = noObserve( new PointerLockControls( this.cam, this.renderer.domElement ), Object.keys(this.controls) );\n    const handleKey = (e)=>{\n      let keyDown = e.type === 'keydown';\n      switch (event.key) {\n        case \"Down\": // IE/Edge specific value\n        case \"ArrowDown\":\n        case \"s\":\n        //If shift is held down 's' becomes 'S' so we need that as well\n        //(and even if we wanted to exclude, an 's' keydown can be a 'S'\n        //keyup later if shift is pressed in between)\n        case \"S\":\n          this.keyMap.forward = keyDown;\n          break;\n        case \"Up\": // IE/Edge specific value\n        case \"ArrowUp\":\n        case \"w\":\n        case \"W\":\n          this.keyMap.backward = keyDown;\n          break;\n        case \"Left\": // IE/Edge specific value\n        case \"ArrowLeft\":\n        case \"a\":\n        case \"A\":\n          this.keyMap.left = keyDown;\n          break;\n        case \"Right\": // IE/Edge specific value\n        case \"ArrowRight\":\n        case \"d\":\n        case \"D\":\n          this.keyMap.right = keyDown;\n          break;\n        case \"Space\":\n        case \" \":\n          this.keyMap.up = keyDown;\n          break;\n        case \"Shift\":\n          this.keyMap.down = keyDown;\n          break;\n        case \"Control\":\n          this.keyMap.sprint = keyDown;\n          break;\n        default:\n          return; // Quit when this doesn't handle the key event.\n      }\n      e.preventDefault(); //We want to handle this key, so prevent default\n      this.velocity.x = (-this.keyMap.left + this.keyMap.right);\n      this.velocity.y = (-this.keyMap.down + this.keyMap.up);\n      this.velocity.z = (-this.keyMap.backward + this.keyMap.forward);\n      this.velocity.normalize();\n      this.velocity.multiplyScalar(this.keyMap.sprint ? 2 : 1);\n    };\n    this.renderer.domElement.addEventListener('click', ()=>{\n      if(!this.canControl) {\n        return;\n      }\n      this.enableControls();\n    });\n    /*this.controls.addEventListener( 'lock', function () {\n      instructions.style.display = 'none';\n      blocker.style.display = 'none';\n    } );\n    this.controls.addEventListener( 'unlock', function () {\n      blocker.style.display = 'block';\n      instructions.style.display = '';\n    } );*/\n    this.scene.add( this.controls.getObject() );\n\n    window.addEventListener( 'keydown' , handleKey);\n    window.addEventListener( 'keyup', handleKey);\n\n    this.resize();\n    window.addEventListener('resize', this.resize.bind(this));\n    //TODO: Unbind on destroy\n  },\n  watch: {\n    async brsBuff () {\n      if (!this.brsBuff) {\n        return;\n      }\n      //Teardown old stuff\n      window.cancelAnimationFrame(this.rafID);\n      this.scene.remove(...this.scene.children.filter((obj) => obj instanceof BRSMesh));\n\n      //Generate the new BRSMesh and add it\n      /*const tex = await new Promise((resolve, reject) => {\n          new THREE.TextureLoader()\n            .load( 'https://rawcdn.githack.com/mrdoob/three.js/7e0a78beb9317e580d7fa4da9b5b12be051c6feb/examples/textures/uv_grid_opengl.jpg', resolve, undefined, reject );\n        });*/\n      let mesh = BRSMesh.fromBuffer(this.brsBuff);\n      mesh.frustumCulled = false;\n      this.scene.add(mesh);\n\n      //Do some calculations for the new camera path\n      //Find the center of gravity of all the bricks (the average vs the center of bounding box)\n      let positions = mesh.brs.bricks\n        .map((br) => {\n          if (!br.visibility) { //TODO: Move into BRSMesh, these transformations shouldn't be out here\n            return undefined;\n          }\n          return new THREE.Vector3(br.position[0], br.position[2], br.position[1]);\n        })\n        .filter((vec) => !!vec);\n      let centerOfGravity = positions.reduce((acc, vec) => acc.add(vec), new THREE.Vector3(0, 0, 0))\n        .multiplyScalar(1 / positions.length);\n      //Find the mean and standard deviation from the centerOfGravity\n      let distances = positions.map((vec) => vec.distanceTo(centerOfGravity));\n      let meanDistance = distances.reduce((a, d) => a + d, 0) / positions.length;\n      let varianceSum = distances.reduce((a, d) => a + Math.pow(Math.abs(d - meanDistance), 2), 0);\n      let stdDevDistance = Math.sqrt(varianceSum / positions.length);\n\n      //Compute the final camera bounding box discarding outliers\n      let outliers = 0;\n      this.buildBounds = noObserve(new THREE.Box3());\n      mesh.brs.bricks.forEach((br) => {\n        let distance = new THREE.Vector3(br.position[0], br.position[2], br.position[1]).distanceTo(centerOfGravity);\n        if (distance > meanDistance + stdDevDistance * 3 || distance < meanDistance - stdDevDistance * 3) {\n          console.log(`Removed outlier at Brickadia position ${br.position} ${distance}`);\n          outliers++;\n          return;\n        }\n        this.buildBounds.expandByPoint(new THREE.Vector3(br.position[0], br.position[2], br.position[1]));\n      });\n      console.log(`Center: ${centerOfGravity.x} ${centerOfGravity.y} ${centerOfGravity.z}`);\n      console.log(`Mean: ${meanDistance}`);\n      console.log(`StdD: ${stdDevDistance}`);\n      console.log(`Outl: ${outliers}`);\n      console.log(`BrickCount: ${positions.length}`);\n      console.log(this.buildBounds);\n      this.rafID = window.requestAnimationFrame(this.render.bind(this));\n    }\n  },\n  methods: {\n    resize () {\n      this.$refs.renderer.setAttribute('style', '');\n      let rect = this.$refs.renderer.getBoundingClientRect();\n      this.renderer.setSize(rect.width, rect.height);\n      this.cam.aspect = rect.width / rect.height;\n      this.cam.updateProjectionMatrix();\n    },\n    render () {\n      this.rafID = window.requestAnimationFrame(this.render.bind(this));\n\n      if(!this.controls.isLocked) {\n        //look in a circle over the whole map after it loads\n        let theta = Date.now() / 1000 / 30 * Math.PI * 2;\n        let x = Math.sin(theta);\n        let z = Math.cos(theta);\n        let center = this.buildBounds.getCenter(new THREE.Vector3());\n        let exts = this.buildBounds.getSize(new THREE.Vector3()).multiplyScalar(0.5);\n        this.cam.position.copy(center);\n        this.cam.position.add(new THREE.Vector3(exts.x * 1.5 * x, exts.y * 2, exts.z * 1.5 * z));\n        this.cam.lookAt(center.clone().add(new THREE.Vector3(exts.x * x, 0, exts.z * z)));\n      }\n      else {\n        let deltaTime = Date.now() - this._lastTime;\n        let camForward = this.cam.getWorldDirection(new THREE.Vector3());\n        let camRight = camForward.clone().cross(THREE.Object3D.DefaultUp).normalize();\n        let camUp = THREE.Object3D.DefaultUp.clone();\n        this.cam.position\n          .add(camForward.multiplyScalar(-this.velocity.z * deltaTime))\n          .add(camRight.multiplyScalar(this.velocity.x * deltaTime))\n          .add(camUp.multiplyScalar(this.velocity.y * deltaTime));\n      }\n      this._lastTime = Date.now();\n      this.renderer.render(this.scene, this.cam);\n    },\n    disableControls(){\n      this.controls.unlock();\n    },\n    enableControls(){\n      this.controls.lock();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../scss/_func.scss\";\n\ncanvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n}\n.renderer-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2;\n  pointer-events: none;\n  text-align: center;\n\n  > p {\n    position: absolute;\n    left: 50%;\n    top: 0;\n    transform: translateX(-50%);\n    opacity: 1.0;\n    padding: cRems(7px);\n    background-color: rgba(51,51,51,0.5);\n    border-radius: cRems(5px);\n    display: inline-block;\n\n    &.hide-enter-active, &.hide-leave-active {\n      transition: opacity .5s;\n    }\n    &.hide-leave-to, &.hide-enter {\n      opacity: 0.0;\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BRSViewer.vue?vue&type=template&id=31e3ebb6&\"\nimport script from \"./BRSViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./BRSViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BRSViewer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"brs-container\">\n    <BRSViewer :brsBuff=\"brsBuff\"\n      @click.native=\"interacting = false\" />\n    <div class=\"brs-main\"\n      :class=\"{'keep-open': keepSidebarOpen}\"\n      @mouseenter=\"interacting = true\"\n      @mouseleave=\"stopInteracting\">\n      <div class=\"brs-header\">\n        <div class=\"brs-header-content\">\n          <div class=\"brs-header-title\">\n            <img class=\"logo\" alt=\"brs.world logo\" src=\"../assets/brsworld.svg\">\n            <h1>BRS.world</h1>\n          </div>\n          <p>Share your Brickadia builds</p>\n          <div class=\"brs-upload\"\n            :class=\"{ 'upload-finished': uploadFinished }\">\n            <p class=\"error\" v-if=\"error\" v-text=\"error\" />\n            <button\n              @click=\"$refs.fileUpload.click()\">Open .brs</button>\n            <div v-if=\"fileToUpload\">\n              <p>{{fileToUpload.name}}</p>\n              <p v-if=\"brs\">{{brs.author.name}} - {{brs.map}}</p>\n              <button\n                @click=\"uploadFile\"\n                :disabled=\"!fileUploadIsValid\">Upload</button>\n            </div>\n            <input type=\"file\"\n              ref=\"fileUpload\"\n              style=\"display:none\"\n              @change=\"onFileChange($event)\" />\n          </div>\n        </div>\n        <svg class=\"brs-header-bg\" width=\"300\" height=\"300\">\n          <g id=\"cloud1\" class=\"cloud\"><path d=\"M-300,0C-300,0,300,0,300,0C500,33.33333333333333,500,66.66666666666666,300,100C200,161.6064433771357,100,161.6064433771357,0,100C-100,161.6064433771357,-200,161.6064433771357,-300,100C-500,66.66666666666666,-500,33.33333333333333,-300,0\"></path></g>\n          <g id=\"cloud2\" class=\"cloud\"><path d=\"M-300,0C-300,0,300,0,300,0C500,33.33333333333333,500,66.66666666666666,300,100C200,161.6064433771357,100,161.6064433771357,0,100C-100,161.6064433771357,-200,161.6064433771357,-300,100C-500,66.66666666666666,-500,33.33333333333333,-300,0\"></path></g>\n          <g id=\"cloud3\" class=\"cloud\"><path d=\"M-300,0C-300,0,300,0,300,0C500,33.33333333333333,500,66.66666666666666,300,100C200,161.6064433771357,100,161.6064433771357,0,100C-100,161.6064433771357,-200,161.6064433771357,-300,100C-500,66.66666666666666,-500,33.33333333333333,-300,0\"></path></g>\n          </svg>\n      </div>\n      <div class=\"brs-list-container\">\n        <h2><u>Featured Builds</u></h2>\n        <div class=\"brs-list\">\n          <div class=\"brs-list-item\"\n            v-for=\"brsInfo in brsInfoWState\"\n            :key=\"brsInfo.brsUrl\"\n            @click=\"onEntryClick($event, brsInfo)\"\n            :class=\"{selected: brsInfo.selected}\">\n            <h3>{{brsInfo.name}}</h3>\n            <p>{{brsInfo.author}}</p>\n            <p v-if=\"false\">{{brsInfo.description}}</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"brs-footer\">\n        <p>Made by <a href=\"http://twitter.com/cobertos\" target=\"_blank\">@Cobertos</a></p>\n        <p><a href=\"https://github.com/Cobertos/brs.world\" target=\"_blank\">Hosted on GitHub</a></p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'brs-js'; //On window.BRS (TODO: Fix this)\nimport { noObserve } from '../utils.js';\nimport { BRSWorldAPI } from '../BRSWorldAPI.js';\nimport BRSViewer from './BRSViewer.vue';\n\nexport default {\n  name: 'BRSUI',\n  components: {\n    BRSViewer\n  },\n  data () {\n    return {\n      fileToUpload: undefined, //File object to upload\n      uploadFinished: false,\n      error: undefined, //An error in the BRS loading\n      brsBuff: undefined, //Buffer with brs data\n      brs: undefined, //Loaded from the buffer above with brs-js\n\n      interacting: false, //Whether the user is interacting with the sidebar\n      api: new BRSWorldAPI(), //API object\n      brsInfoList: [] //List of brs's to load (pulled from backend)\n    };\n  },\n  computed: {\n    brsInfoWState () {\n      return this.brsInfoList.map((obj) => {\n        return {\n          selected: false,\n          ...obj\n        };\n      });\n    },\n    keepSidebarOpen () {\n      return this.interacting || //The boolean to keep it open a little longer than normal\n        !this.hasBRSToView; //If there's no file uploaded yet\n    },\n    hasBRSToView () {\n      return !!this.brs; //A successfully loaded brs\n    },\n    fileUploadIsValid () {\n      return !!this.fileToUpload &&\n        !this.error &&\n        this.brs;\n    }\n  },\n  async mounted () {\n    this.brsInfoList = (await this.api.getFeaturedBuilds()).items;\n  },\n  methods: {\n    resetUpload () {\n      this.$refs.fileUpload.value = '';\n      this.fileToUpload = undefined;\n    },\n    changeBRSData (brsBuff) {\n      this.error = undefined;\n      this.brsBuff = brsBuff;\n      try {\n        this.brs = noObserve(BRS.read(brsBuff));\n      } catch (e) {\n        this.error = e.message;\n        this.brsBuff = undefined;\n        this.brs = undefined;\n        console.error(e);\n      }\n    },\n    async onFileChange (e) {\n      //TODO: Reset the selected highlight\n      const file = e.target.files[0];\n      this.fileToUpload = file ? noObserve(file) : undefined;\n      if (!file) {\n        return;\n      }\n      console.log('Start file convert...');\n      this.changeBRSData(await file.arrayBuffer());\n    },\n    async onEntryClick (e, brsInfo) {\n      this.resetUpload();\n      //TODO: Handle when the user is uploading and tries to change level\n\n      //Load the BRSHMesh\n      this.brsInfoWState.forEach((brsInfo) => { brsInfo.selected = false; });\n      brsInfo.selected = true;\n      console.log('Start download...');\n      const brsObj = await fetch(brsInfo.brsUrl);\n      this.changeBRSData(await brsObj.arrayBuffer());\n    },\n    stopInteracting () {\n      setTimeout(() => { this.interacting = false; }, 500);\n    },\n    async uploadFile () {\n      //TODO: Handle errors from the endpoint\n      await this.api.uploadBuild(this.brsBuff);\n      this.uploadFinished = true;\n      this.resetUpload();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../scss/_func.scss\";\n\n.error {\n  color: $bigRed;\n}\n\n.brs-main {\n  position: absolute;\n  left: -280px;\n  top: 0;\n  height: 100vh;\n  width: 300px;\n  color: white;\n  transition: left 0.2s;\n  background-color: #333333;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  &:hover, &.keep-open {\n    left: 0;\n  }\n\n  .brs-header, .brs-footer {\n    flex: 0 0 auto;\n  }\n  .brs-list-container {\n    flex: 1 1 auto;\n  }\n\n  .brs-header {\n    padding: cRems(20px);\n    h1 {\n      margin-top: 0;\n    }\n\n    .brs-header-content {\n      position: relative;\n      z-index: 2;\n\n      .brs-header-title {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n\n        .logo {\n          width: 60px;\n        }\n\n        h1 {\n          margin: 0;\n        }\n      }\n    }\n\n    .brs-header-bg {\n      position: absolute;\n      z-index: 1;\n      top: 0;\n      left: 0;\n      pointer-events: none;\n    }\n\n    .brs-upload {\n      &.upload-finished {\n        animation: upload-finish-pop-fade 2s;\n      }\n\n      @keyframes upload-finish-pop-fade {\n        from {\n          background-color: white;\n        }\n        to {\n          background-color: transparent;\n        }\n      }\n    }\n  }\n\n  .brs-list-container {\n    overflow-y: auto;\n    user-select: none;\n\n    > h2 {\n      text-align: center;\n      margin: 0;\n      padding: cRems(12px);\n      > u {\n        border-bottom: 1px solid white;\n        text-decoration: none;\n      }\n    }\n\n\n    .brs-list-item {\n      min-height: 40px;\n      text-align: left;\n      padding: cRems(15px);\n      //Interesting chevron effect\n      /*background-image:\n          linear-gradient(100deg, rgba(0,0,0,0) 20px, #112222 20px, #112222 40px, rgba(0,0,0,0) 40px),\n          linear-gradient(100deg, rgba(0,0,0,0) 60px, #112222 60px, #112222 80px, rgba(0,0,0,0) 80px),\n          linear-gradient(100deg, rgba(0,0,0,0) 100px, #112222 100px, #112222 120px, rgba(0,0,0,0) 120px),\n          linear-gradient(100deg, rgba(0,0,0,0) 140px, #112222 140px);*/\n      background-image:\n        linear-gradient(to right, $bigRed 50%, #333333 50%);\n      background-position: 100% 0;\n      background-size: 200% 200%;\n      background-repeat: no-repeat;\n      transition: background-position 0.2s, background-color 0.2s;\n      cursor: pointer;\n\n      &:hover {\n        background-position: 70% 0;\n      }\n      &:active, &.selected {\n        background-position: 0 0;\n      }\n      &.selected {\n        animation: selected-fade 2s;\n        background-image: none;\n        background-color: $bigRed;\n      }\n\n      @keyframes selected-fade {\n        from {\n          background-color: white;\n        }\n        to {\n          background-color: $bigRed;\n        }\n      }\n\n      h3 {\n        margin: 0;\n      }\n      p {\n        margin: 0;\n      }\n    }\n\n    //Scrollbar webkit\n    &::-webkit-scrollbar {\n        width: 12px;\n        height: 12px;\n\n        /*@include desktop {\n            width: 10px;\n            height: 10px;\n        }*/\n    }\n    &::-webkit-scrollbar-button {\n        display: none; //No up or down buttons\n    }\n    &::-webkit-scrollbar-thumb {\n        background-color: #AAAAAA;\n        &:hover {\n            background-color: #FFFFFF;\n            cursor: pointer;\n        }\n    }\n    &::-webkit-scrollbar-track {\n        background-color: #333333;\n    }\n    //Scrollbar IE and FF\n    scrollbar-color: #AAAAAA #333333; //thumb track\n    &:hover {\n        scrollbar-color: #FFFFFF #333333; //thumb track\n    }\n  }\n\n  svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n  .cloud {\n    pointer-events: none;\n    fill: #444;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 200px;\n    transform: translateX();\n    animation: cloud1 13s linear infinite;\n\n    &:nth-child(2) {\n      fill: #555;\n      animation-delay: 7s;\n      animation: cloud2 22s linear infinite;\n    }\n    &:nth-child(3) {\n      fill: #666;\n      left: 0;\n      animation-delay: 3s;\n      animation: cloud3 17s linear infinite;\n    }\n  }\n\n  @keyframes cloud1 {\n    0% {\n       transform: matrix(1,0,0,1,0,-10);\n    }\n    100% {\n       transform: matrix(1,0,0,1,300,-10);\n    }\n  }\n  @keyframes cloud2 {\n    0% {\n       transform: matrix(1,0,0,1,0,-30);\n    }\n    100% {\n       transform: matrix(1,0,0,1,300,-30);\n    }\n  }\n  @keyframes cloud3 {\n    0% {\n       transform: matrix(1,0,0,1,0,-50);\n    }\n    100% {\n       transform: matrix(1,0,0,1,300,-50);\n    }\n  }\n\n  .brs-footer {\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSUI.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRSUI.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BRSUI.vue?vue&type=template&id=5a2cec4c&\"\nimport script from \"./BRSUI.vue?vue&type=script&lang=js&\"\nexport * from \"./BRSUI.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BRSUI.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <BRSUI />\n  </div>\n</template>\n\n<script>\nimport BRSUI from './components/BRSUI.vue';\n\nexport default {\n  name: 'app',\n  components: {\n    BRSUI\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"scss/main.scss\";\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=57133655&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import 'whatwg-fetch';\nimport Vue from 'vue';\nimport App from './App.vue';\n\nVue.config.productionTip = false;\nVue.config.errorHandler = console.error;\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/brsworld.aa9c5f2d.svg\";"],"sourceRoot":""}